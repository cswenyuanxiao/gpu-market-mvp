import{j as e}from"./react-query-BGeIQRPr.js";import{r as i,L as d}from"./react-CTDr35rJ.js";import{a as c}from"./index-DNCDa-yo.js";import{A as h,B as j,m as o,E as p}from"./antd-DlFti5e9.js";function u(){var n;const[a,l]=i.useState(null),[r,m]=i.useState([]);return i.useEffect(()=>{localStorage.getItem("token")&&(async()=>{try{const t=await c("/api/users/me");t.ok&&l(await t.json())}catch{}try{const t=await c("/api/my/gpus");t.ok&&m(await t.json())}catch{}})()},[]),localStorage.getItem("token")?e.jsxs("div",{className:"container py-3",children:[e.jsx("h3",{children:"My Profile"}),a&&e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[e.jsx(h,{size:64,src:a.avatar_path,children:(n=a.display_name)==null?void 0:n[0]}),e.jsx("div",{className:"fw-bold",children:a.display_name}),e.jsx("div",{className:"ms-auto",children:e.jsx(d,{to:"/profile/edit",children:e.jsx(j,{size:"small",children:"Edit Profile"})})})]}),e.jsx("h5",{children:"My Listings"}),e.jsxs("div",{className:"product-grid",children:[r.map(s=>e.jsx("div",{children:e.jsx(o,{className:"mb-3",cover:s.image_path?e.jsx("img",{src:s.image_path,style:{height:160,objectFit:"cover"}}):void 0,children:e.jsx(o.Meta,{title:s.title})})},s.id)),r.length===0&&e.jsx(p,{description:"No listings",className:"my-3"})]})]}):e.jsx("div",{className:"container py-3",children:"Please login"})}export{u as default};
