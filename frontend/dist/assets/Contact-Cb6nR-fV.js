import{j as e}from"./react-query-BGeIQRPr.js";import{u as g,a as f,C as r,o as y,b,s as o}from"./zod-SQF3v9p3.js";import{a as v}from"./index-DSYhX2QC.js";import{F as i}from"./FormField-iyrhpl26.js";import{I as m,e as C,B as w}from"./antd-n40S5sxn.js";import"./react-CTDr35rJ.js";const S=y({name:o().min(1,"Name is required"),email:o().email("Invalid email"),message:o().min(10,"Please provide more details"),consent:b().default(!1)});function P(){var l,c,d;const{control:s,handleSubmit:h,reset:u,formState:{errors:n}}=g({resolver:f(S),defaultValues:{consent:!1}});async function x(a){var p;const t=await v("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok){const j=((p=await t.json().catch(()=>({})))==null?void 0:p.error)||"Submit failed";window.dispatchEvent(new CustomEvent("app-toast",{detail:{text:j,type:"error"}}));return}window.dispatchEvent(new CustomEvent("app-toast",{detail:{text:"Message sent",type:"success"}})),u()}return e.jsxs("div",{className:"container py-3",style:{maxWidth:720},children:[e.jsx("h3",{children:"Contact Us"}),e.jsxs("form",{onSubmit:h(x),children:[e.jsx(i,{label:"Your Name",htmlFor:"name",error:(l=n.name)==null?void 0:l.message,children:e.jsx(r,{name:"name",control:s,render:({field:a})=>e.jsx(m,{id:"name",...a})})}),e.jsx(i,{label:"Email",htmlFor:"email",error:(c=n.email)==null?void 0:c.message,children:e.jsx(r,{name:"email",control:s,render:({field:a})=>e.jsx(m,{id:"email",type:"email",...a})})}),e.jsx(i,{label:"Message",htmlFor:"message",error:(d=n.message)==null?void 0:d.message,children:e.jsx(r,{name:"message",control:s,render:({field:a})=>e.jsx(m.TextArea,{id:"message",rows:6,...a})})}),e.jsx("div",{className:"form-check mb-3",children:e.jsx(r,{name:"consent",control:s,render:({field:a})=>e.jsx(C,{id:"consent",checked:a.value,onChange:t=>a.onChange(t.target.checked),children:"I agree to the processing of my personal data according to the Privacy Policy."})})}),e.jsx(w,{type:"primary",htmlType:"submit",children:"Send"})]})]})}export{P as default};
