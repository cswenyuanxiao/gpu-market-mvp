import{j as e}from"./react-query-BGeIQRPr.js";import{r as i,L as d}from"./react-CTDr35rJ.js";import{a as c}from"./index-CM4s-_6C.js";import{A as h,B as j,C as l,E as x}from"./antd-C_PMe3Fi.js";function v(){var n;const[t,o]=i.useState(null),[r,m]=i.useState([]);return i.useEffect(()=>{localStorage.getItem("token")&&(async()=>{try{const a=await c("/api/users/me");a.ok&&o(await a.json())}catch{}try{const a=await c("/api/my/gpus");a.ok&&m(await a.json())}catch{}})()},[]),localStorage.getItem("token")?e.jsxs("div",{className:"container py-3",children:[e.jsx("h3",{children:"My Profile"}),t&&e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-3",children:[e.jsx(h,{size:64,src:t.avatar_path,children:(n=t.display_name)==null?void 0:n[0]}),e.jsx("div",{className:"fw-bold",children:t.display_name}),e.jsx("div",{className:"ms-auto",children:e.jsx(d,{to:"/profile/edit",children:e.jsx(j,{size:"small",children:"Edit Profile"})})})]}),e.jsx("h5",{children:"My Listings"}),e.jsxs("div",{className:"row",children:[r.map(s=>e.jsx("div",{className:"col-md-6",children:e.jsx(l,{className:"mb-3",cover:s.image_path?e.jsx("img",{src:s.image_path,style:{height:160,objectFit:"cover"}}):void 0,children:e.jsx(l.Meta,{title:s.title})})},s.id)),r.length===0&&e.jsx(x,{description:"No listings",className:"my-3"})]})]}):e.jsx("div",{className:"container py-3",children:"Please login"})}export{v as default};
